# å…¨é¡µé¢æ°´å°

http://watermarkfront.jd.com/watermark/resourcecode/watermarkdetail

# å¼•å…¥node_modulesæŸåŒ…ä¸‹æ ·å¼

```
// info.scss
@import 'slim-select/dist/slimselect.css';
æˆ–è€…
@import '~slim-select/dist/slimselect.css';
```



# ä¿¡æ¯åé¦ˆalertçº¯åŸç”Ÿ

https://sweetalert.js.org/guides/

# å‰ç«¯å®ç°åœ¨çº¿é¢„è§ˆpdfã€wordã€xlsã€pptç­‰æ–‡ä»¶

[ğŸ”—](https://www.jianshu.com/p/2f39de746900)

[ğŸ”—](https://www.jianshu.com/p/00a8c7925c18)

[ğŸ”—pdf](https://www.jianshu.com/p/61065b749ff8)

# excelå¯¼å‡º

## get

```
window.open('url')
```

## get|post

```
downLoadFile({
    url: `${EXPORTAPPLICATIONLIST}`,
    data: params
  })
  
  function downLoadFile(options, selfOpen = false){
  var config = Object.assign({ method: 'post' }, options);

  var iframeDom = document.createElement('iframe');
  iframeDom.id = 'down-file-iframe';

  var formDom = document.createElement('form');
  formDom.target = 'down-file-iframe';
  formDom.method = config.method;
  formDom.action = config.url;

  for (var key in config.data) {
    var inputDom = document.createElement('input');
    inputDom.type = 'hidden';
    inputDom.name = key;
    inputDom.value = config.data[key];
    inputDom.type = 'hidden';
    formDom.appendChild(inputDom);
  }

  iframeDom.appendChild(formDom);

  document.body.appendChild(iframeDom);

  formDom.submit();

  iframeDom.remove();
  
}
```



# inputä¸Šä¼ æ–‡ä»¶é€‰æ‹©åŒä¸€æ–‡ä»¶æ—¶changeäº‹ä»¶ä¸ç”Ÿæ•ˆ

åœ¨æ–‡ä»¶ä¸Šä¼ çš„æ—¶å€™æˆ‘ä»¬æˆ‘ä»¬é€‰æ‹©ç›‘æ§changeäº‹ä»¶æ¥è·å–æ–‡ä»¶ï¼Œå‘ç°å¦‚æœç¬¬ä¸€æ¬¡å¦‚æœé€‰æ‹©äº†Aæ–‡ä»¶ï¼Œå½“å†æ¬¡ç‚¹å¼€é€‰æ‹©A æ–‡ä»¶æ—¶ï¼Œchangeäº‹ä»¶æ²¡æœ‰è§¦å‘ï¼Œè¿™æ—¶å¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼å¤„ç†.

1. vueé¡¹ç›®å¤„ç†æ–¹å¼ï¼š

```javascript
this.$refs.inputer.value=null;
```

1. æ™®é€šjså¤„ç†æ–¹å¼ï¼š

```javascript
event.target.value=â€;
```

å°½é‡ä¸è¦ç”¨åˆ é™¤domå…ƒç´ ï¼Œå†æ·»åŠ è¿™ç§æ“ä½œæ–¹å¼ï¼Œå› ä¸ºè¿˜éœ€è¦åœ¨åšäº‹ä»¶ç»‘å®šæ¯”è¾ƒéº»çƒ¦ã€‚

# cookie

```
// è®¾ç½®cookie
export function setCookie(name, value, days, Tdom) {
  Tdom = Tdom || '/'
  let expires
  if (days) {
    const date = new Date()
    date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000))
    expires = '; expires=' + date.toGMTString()
  } else {
    expires = ''
  }
  document.cookie = name + '=' + value + expires + '; path=' + Tdom
}

// è¯»å–cookie
export function getCookie(name) {
  let nameEQ = name + '='
  let ca = document.cookie.split(';')
  for (let i = 0; i < ca.length; i++) {
    let c = ca[i]
    while (c.charAt(0) === ' ') {
      c = c.substring(1, c.length)
    }
    if (c.indexOf(nameEQ) === 0) {
      return decodeURIComponent(c.substring(nameEQ.length, c.length))
    }
  }
  return null
}

// æ¸…é™¤cookie
export function delCookie(name) {
  setCookie(name, '', -1)
}

// æ¸…é™¤æŒ‡å®šåŸŸåä¸‹çš„cookie
// äºŒçº§åŸŸåm.jd.com
// ä¸€çº§åŸŸåjd.com
export function delCookieByDomain (domain) {
  var keys = document.cookie.match(/[^ =;]+(?==)/g)
  if (keys) {
    for (var i = keys.length; i--;) {
      document.cookie = `${keys[i]}=0;path=/;domain=${domain};expires=${new Date(0).toUTCString()}`
    }
  }
}

```



# åƒä½åˆ†å‰²ç¬¦

```
function thousandBitSeparator(num) {
  return num && (num
    .toString().indexOf('.') != -1 ? num.toString().replace(/(\d)(?=(\d{3})+\.)/g, function($0, $1) {
      return $1 + ",";
    }) : num.toString().replace(/(\d)(?=(\d{3}))/g, function($0, $1) {
      return $1 + ",";
    }));
}
console.log(thousandBitSeparator(1000));
// 1,000
//-1,234,567.9012
```



# æ­£åˆ™è·å–æ–‡ä»¶å

- æ–‡ä»¶åç¼€

  ```
  'https://www.cnblogs.com/qiao20/p/6248510.html'.replace(/.+\./,"");
  ```

  

- åŒ…æ‹¬åç¼€

  ```
  'https://www.cnblogs.com/qiao20/p/6248510.html'.replace(/(.*\/)*([^.]+)/i,"$2");
  ```

  

- ä¸åŒ…æ‹¬åç¼€

  ```
  'https://www.cnblogs.com/qiao20/p/6248510.html'.replace(/(.*\/)*([^.]+).*/i,"$2");
  ```

# loadingæ•ˆæœ

[10ç§loadingæ•ˆæœ](https://www.jianshu.com/p/b22cbc1c6c40)

# æ•°ç»„å»é‡

```
function uniqueArray(arr, key) {
    let result = []
    let obj = {}

    for (let i of arr) {
        if (!obj[i]) {
            result.push(i)
            obj[i] = 1
        }
    }

    return result
}
```



# æ‰‹æœºå·æ©ç 

```
phone.replace((\d{3})\d{4}(\d{4}), "$1****$2")
```



# momentJS è®¡ç®—æ—¥æœŸå·®*å¤©

[api](http://momentjs.cn/docs/#/displaying/difference/)

```
var a = moment([2007, 0, 29]);
var b = moment([2007, 0, 28]);
a.diff(b, 'days') // 1
```



# 2è¡Œâ€¦

```
	text-overflow: -o-ellipsis-lastline;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
	word-break:break-all;
```



# Fetch

[api](https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch)

```
      fetch(
        `https://api.github.com/search/repositories?q=mahonglu`
      ).then((res) => {
        res.json().then((json) => (
         ...
        ));
      });
```



# js urlä¼ é€’æ•°ç»„

```
JSON.stringify([1,2,3])
```



# åˆ¤æ–­stringæ˜¯å­—ç¬¦ä¸² or jsonä¸²

```
function isJSON(str) {
    if (typeof str == 'string') {
        try {
            JSON.parse(str);
            return true;
        } catch(e) {
            console.log(e);
            return false;
        }
    }
    console.log('It is not a string!')    
}
```



# JS åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡æµè§ˆå™¨

```
var isWeixin = function () { //åˆ¤æ–­æ˜¯å¦æ˜¯å¾®ä¿¡
    var ua = navigator.userAgent.toLowerCase();
    return ua.match(/MicroMessenger/i) == "micromessenger";
};
```



# é¡µé¢titleæ›´æ”¹

```
document.tiltle = "ä½ å¥½"
```



# é¡µé¢æ¥æºrefer(é˜²ç›—é“¾)

```
document.referrer
```



# åˆ›å»ºæŒ‡å®šlengthçš„æ•°ç»„

//es6

```
Array.from({length: 4})
```



# æ»šåŠ¨åŠ è½½æ›´å¤š

[ä»£ç ](https://codesandbox.io/embed/microtask-n6q94)



# æµ®ç‚¹æ•°è®¡ç®—è§£å†³ç²¾åº¦é—®é¢˜

```
// æµ®ç‚¹æ•°è®¡ç®—
  accFloat: function(op, arg1, arg2) {
    var s1 = arg1.toString()
    var s2 = arg2.toString()

    var digits1 = (s1.split('.')[1] || '').length
    var digits2 = (s2.split('.')[1] || '').length
    const baseNum = Math.pow(10, Math.max(digits1, digits2));

    let num1 = parseInt((s1 * baseNum).toFixed(0));
    let num2 = parseInt((s2 * baseNum).toFixed(0));

    let result = 0

    switch (op) {
      case '+':
        result = (num1 + num2) / baseNum
        break;

      case '-':
        result = (num1 - num2) / baseNum
        break;

      case '*':
        result = (num1 * num2) / (baseNum*baseNum)
        break;  

      default:
        break;
    }
    return result 
  }
```



# å¯¹è±¡æ·±æ‹·è´

```
//æ–¹æ³•ä¸€ 
//æ•°ç»„
JSON.parse(JSON.stringify([]))
//å¯¹è±¡
JSON.parse(JSON.stringify({}))
```

```
//æ–¹æ³•äºŒ
function isObject(obj) {
    return typeof obj === 'object'
}

function deepClone(obj) {
    if (!isObject(obj)) {
        throw new Error('obj ä¸æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼')
    }

    let isArr = isArray(obj)
    let cloneObj = isArr ? [] : {}
    for (let key in obj) {
        cloneObj[key] = isObject(obj[key]) ? deepClone(obj[key]) : obj[key]
    }

    return cloneObj
}
```



# èŠ‚æµå’Œé˜²æŠ–

[èŠ‚æµå’Œé˜²æŠ–çš„åŒºåˆ«ï¼Œä»¥åŠå¦‚ä½•å®ç°](https://www.jianshu.com/p/b5fcb9a04b17)



# é˜²æš´åŠ›ç‚¹å‡»

```
function throttle(fn, interval, timeout) {
    var _t = new Date().getTime(),
        _timeout;
    return function handler() {
        var t = new Date().getTime();
        _timeout && clearTimeout(_timeout);
        if (t - _t >= timeout) {
            _t = new Date().getTime();
            fn.apply(this, arguments);
        } else {
            _timeout = setTimeout(handler.bind(this), interval);
        }
    };
}
function debounce(fn, interval) {
    var flag = true
    var _t
    return function() {
      flag && (fn.apply(this, arguments), (flag = false))
      _t && clearTimeout(_t)
      _t = setTimeout(function() {
        flag = true
      }, interval)
    }
  }
```

ä½¿ç”¨

```
handleTab: utils.debounce(function(e){}, 500)
```



# urlä¸Šçš„æŸ¥è¯¢æ¡ä»¶è½¬ä¸ºObjectå¯¹è±¡

```
function getUrlSearchObj(url) {
	var obj = {};
	if(url) {
	  url = url.replace(/#[^#]*$/, "");
		var index = url.indexOf("?");
		if(index != -1) {
			var queryStr = url.substr(index + 1);
			var marchResult = null;
			var regex = /(\w+)(=([^&#]+)?)?/g;
			while((marchResult = regex.exec(queryStr)) != null) {
				if(marchResult[1] in obj) {
					var values = obj[marchResult[1]];
					if(values instanceof Array) {
						values.push(marchResult[2] ? (marchResult[3]?marchResult[3]:"") : null);
						obj.marchResult[1] = values;
					} else {
						var arr = [];
						arr.push(values);
						arr.push(marchResult[2] ? (marchResult[3]?marchResult[3]:"") : null);
						obj[marchResult[1]] = arr;
					}
				} else {
					obj[marchResult[1]] = marchResult[2] ? (marchResult[3]?marchResult[3]:"") : null;
				}
			}
		}
	}
	return obj;
}
```

# Objectå¯¹è±¡è½¬ä¸ºurlä¸Šçš„æŸ¥è¯¢æ¡ä»¶

```
Object.keys(obj)
        .reduce((pre, cur) => `${pre}${cur}=${obj[cur]}&`, "?")
        .replace(/&$/, "");
```

